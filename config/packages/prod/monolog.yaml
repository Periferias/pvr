monolog:
    handlers:
        # Send debug..notice to stderr (avoid contaminating HTTP response)
        stdout_filter:
            type: filter
            min_level: debug
            max_level: notice
            handler: stdout
        stdout:
            type: stream
            path: 'php://stderr'
            level: debug
            bubble: false

        # Send warning+ to stderr
        stderr:
            type: stream
            path: 'php://stderr'
            level: warning
            bubble: false

        # Disable file-specific handlers in prod to avoid duplicates
        debug_log: null
        info_log: null
        errors_4xx: null
        errors_5xx: null
        main: null

        # Ensure CLI (bin/console) outputs to the terminal
        console:
            type: console
            process_psr_3_messages: false
            channels: ["!event", "!doctrine", "!console"]
